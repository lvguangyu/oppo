webpackJsonp([28],{o8D4:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"",""])},ogNt:function(t,e,n){var a=n("o8D4");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("2dab7750",a,!0)},stFo:function(t,e,n){"use strict";function a(t){return Object(u.a)({url:"/comments",method:"get",params:t})}function o(t,e){return Object(u.a)({url:"/comments/"+t,method:"put",data:e})}function i(t){return Object(u.a)({url:"/comments/"+t,method:"delete"})}function l(t){n("ogNt")}Object.defineProperty(e,"__esModule",{value:!0});var r=n("Dd8w"),s=n.n(r),c=n("NYxO"),u=n("vLgD"),p={components:{},computed:s()({},Object(c.b)(["baseURL"])),data:function(){return{dialogFormVisible:!1,form:{title:"",desc:"",price:"",total:"",url:""},formLabelWidth:"120px",currentPage:1,pageSize:10,total:1,list:[]}},methods:{setComment:function(t,e){var n=this;o(t.id,{public:e}).then(function(t){n.fetchList()})},delComment:function(t){var e=this;i(t.id).then(function(t){e.fetchList()})},handleSizeChange:function(t){this.pageSize=t,this.fetchList()},handleCurrentChange:function(t){this.currentPage=t,this.fetchList()},fetchList:function(){var t=this;a({page:this.currentPage,limit:this.pageSize}).then(function(e){t.list=e.data.list,t.total=e.data.pagination.total,console.log(t.list)})}},created:function(){this.fetchList()}},m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-index layout"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[n("el-table-column",{attrs:{prop:"created_at",label:"上传时间"}}),t._v(" "),n("el-table-column",{attrs:{prop:"user.name",label:"OPPO 账号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"user.oppo_id",label:"OPPO ID"}}),t._v(" "),n("el-table-column",{attrs:{prop:"user.mobile",label:"手机号码"}}),t._v(" "),n("el-table-column",{attrs:{prop:"content",label:"内容"}}),t._v(" "),n("el-table-column",{attrs:{label:"是否公开"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.public?n("span",[t._v("公开")]):t._e(),t._v(" "),e.row.public?t._e():n("span",[t._v("不公开")])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.public?t._e():n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){t.setComment(e.row,1)}}},[t._v("设为公开")]),t._v(" "),e.row.public?n("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(n){t.setComment(e.row,0)}}},[t._v("设为不公开")]):t._e(),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){t.delComment(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("div",{staticClass:"block block-pagination"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},d=[],f={render:m,staticRenderFns:d},b=f,h=n("VU/8"),g=l,_=h(p,b,!1,g,null,null);e.default=_.exports}});